// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 Int       @id @default(autoincrement())
  email              String    @unique
  name               String?
  password           String
  mustChangePassword Boolean?  @default(true)
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt

  receipts           Receipt[] // Um usuário pode ter vários recibos
}

model Receipt {
  id           Int      @id @default(autoincrement())
  date         DateTime
  number       String
  clientName   String
  companyName  String?
  address      String
  cpfCnpj      String
  requester    String
  passengers   String
  services     Json
  observations String?
  language     String
  grandTotal   Float

  // --- NOVAS COLUNAS A SEREM ADICIONADAS ---
  estacionamento      Float?
  estacionamentoReal  Float?
  taxaCartao          Float?
  despesa             Float?
  quilometragem       Float?
  notaFiscal          String?
  motorista           String?
  despesas            String?
  pedagio             Float?
  litrosAbastecidos   Float?
  valorCombustivel    Float?
  impostoPercentual   Float?
  impostoValor        Float? // Adicionei este também, pois estava no formulário

  createdAt    DateTime @default(now())
  updatedAt    DateTime @default(now()) @updatedAt
  createdById  Int
  createdBy    User     @relation(fields: [createdById], references: [id])
}